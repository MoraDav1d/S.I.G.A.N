<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIGAN | Editar Bovino</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <%- include('partials/navbar') %>

    <div class="finca-page-container">
        <div class="login-card" style="max-width: 800px;"> <div style="margin-bottom: 25px; text-align: left;">
                <h2 style="color: #1b4332;"><i class="fa-solid fa-pen-to-square"></i> Editar Bovino</h2>
                <p class="subtitle">Modifique los datos del ejemplar: <strong><%= animal.nombre_animal || animal.codigo_arete %></strong></p>
            </div>

            <form action="/auth/actualizar-animal/<%= animal.id_animal %>" method="POST">
                
                <div class="form-section">
                    <h3><i class="fa-solid fa-tag"></i> Identificación</h3>
                    <div class="form-row">
                        <div class="input-wrapper">
                            <i class="fa-solid fa-hashtag"></i>
                            <input type="text" name="codigo_arete" value="<%= animal.codigo_arete %>" placeholder="Número de Arete" required>
                        </div>
                        <div class="input-wrapper">
                            <i class="fa-solid fa-pen-nib"></i>
                            <input type="text" name="nombre_animal" value="<%= animal.nombre_animal %>" placeholder="Nombre del Animal">
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3><i class="fa-solid fa-dna"></i> Datos Biológicos</h3>
                    <div class="form-row">
                        <div class="input-wrapper">
                            <i class="fa-solid fa-cow"></i>
                            <input type="text" name="raza" value="<%= animal.raza %>" placeholder="Raza" required style="padding-left: 45px;">
                        </div>
                        <div class="input-wrapper">
                            <i class="fa-solid fa-venus-mars"></i>
                            <select name="sexo" required style="width: 100%; padding: 15px 15px 15px 45px; border-radius: 10px; border: 1.5px solid #2d6a4f; outline: none;">
                                <option value="Macho" <%= animal.sexo === 'Macho' ? 'selected' : '' %>>Macho</option>
                                <option value="Hembra" <%= animal.sexo === 'Hembra' ? 'selected' : '' %>>Hembra</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="input-wrapper">
                            <label style="display: block; font-size: 0.8rem; color: #666; margin-bottom: 5px;">Fecha de Nacimiento</label>
                            <input type="date" name="fecha_nacimiento" value="<%= animal.fecha_nacimiento %>" required style="padding-left: 15px;">
                        </div>
                        <div class="input-wrapper">
                            <label style="display: block; font-size: 0.8rem; color: #666; margin-bottom: 5px;">Peso Inicial (Kg)</label>
                            <input type="number" step="0.01" name="peso_inicial" value="<%= animal.peso_inicial %>" required style="padding-left: 15px;">
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3><i class="fa-solid fa-location-dot"></i> Procedencia y Propósito</h3>
                    <div class="form-row">
                        <div class="input-wrapper">
                            <i class="fa-solid fa-map-pin"></i>
                            <select name="codigo_estado" required style="width: 100%; padding: 15px 15px 15px 45px; border-radius: 10px; border: 1.5px solid #2d6a4f; outline: none; appearance: none;">
                                <option value="" disabled <%= !animal.codigo_estado ? 'selected' : '' %>>Seleccione Estado de Origen</option>
                                <option value="1" <%= animal.codigo_estado == 1 ? 'selected' : '' %>>1 - Anzoátegui</option>
                                <option value="2" <%= animal.codigo_estado == 2 ? 'selected' : '' %>>2 - Apure</option>
                                <option value="3" <%= animal.codigo_estado == 3 ? 'selected' : '' %>>3 - Aragua</option>
                                <option value="4" <%= animal.codigo_estado == 4 ? 'selected' : '' %>>4 - Barinas</option>
                                <option value="5" <%= animal.codigo_estado == 5 ? 'selected' : '' %>>5 - Bolívar</option>
                                <option value="6" <%= animal.codigo_estado == 6 ? 'selected' : '' %>>6 - Carabobo</option>
                                <option value="7" <%= animal.codigo_estado == 7 ? 'selected' : '' %>>7 - Cojedes</option>
                                <option value="8" <%= animal.codigo_estado == 8 ? 'selected' : '' %>>8 - Falcón</option>
                                <option value="9" <%= animal.codigo_estado == 9 ? 'selected' : '' %>>9 - Guarico</option>
                                <option value="10" <%= animal.codigo_estado == 10 ? 'selected' : '' %>>10 - Lara</option>
                                <option value="11" <%= animal.codigo_estado == 11 ? 'selected' : '' %>>11 - Merida</option>
                                <option value="12" <%= animal.codigo_estado == 12 ? 'selected' : '' %>>12 - Miranda</option>
                                <option value="13" <%= animal.codigo_estado == 13 ? 'selected' : '' %>>13 - Monagas</option>
                                <option value="14" <%= animal.codigo_estado == 14 ? 'selected' : '' %>>14 - Nueva Esparta</option>
                                <option value="15" <%= animal.codigo_estado == 15 ? 'selected' : '' %>>15 - Portuguesa</option>
                                <option value="16" <%= animal.codigo_estado == 16 ? 'selected' : '' %>>16 - Sucre</option>
                                <option value="17" <%= animal.codigo_estado == 17 ? 'selected' : '' %>>17 - Tachira</option>
                                <option value="18" <%= animal.codigo_estado == 18 ? 'selected' : '' %>>18 - Trujillo</option>
                                <option value="19" <%= animal.codigo_estado == 19 ? 'selected' : '' %>>19 - Yaracuy</option>
                                <option value="20" <%= animal.codigo_estado == 20 ? 'selected' : '' %>>20 - Zulia</option>
                                <option value="21" <%= animal.codigo_estado == 21 ? 'selected' : '' %>>21 - Distrito Capital</option>
                                <option value="22" <%= animal.codigo_estado == 22 ? 'selected' : '' %>>22 - Amazonas</option>
                                <option value="23" <%= animal.codigo_estado == 23 ? 'selected' : '' %>>23 - Delta Amacuro</option>
                                <option value="24" <%= animal.codigo_estado == 24 ? 'selected' : '' %>>24 - La Guaira</option>
                            </select>
                        </div>
                        <div class="input-wrapper">
                            <select name="proposito" required style="width: 100%; padding: 15px; border-radius: 10px; border: 1.5px solid #2d6a4f; outline: none;">
                                <option value="Producción de Carne" <%= animal.proposito === 'Producción de Carne' ? 'selected' : '' %>>Producción de Carne</option>
                                <option value="Producción de Leche" <%= animal.proposito === 'Producción de Leche' ? 'selected' : '' %>>Producción de Leche</option>
                                <option value="Doble Propósito" <%= animal.proposito === 'Doble Propósito' ? 'selected' : '' %>>Doble Propósito</option>
                            </select>
                        </div>
                    </div>
                </div>

                <button type="submit" class="btn-entrar">
                    <i class="fa-solid fa-floppy-disk"></i> Actualizar Registro
                </button>
                
                <div style="margin-top: 15px; text-align: center;">
                    <a href="/dashboard" style="color: #666; text-decoration: none;">Cancelar y volver</a>
                </div>
            </form>
        </div>
    </div>

    <%- include('partials/footer') %>
</body>
</html>